# ติดตั้งไลบรารีที่ต้องใช้สำหรับคลาสนี้ (รันคำสั่งเหล่านี้ใน terminal ก่อนใช้งาน)
# ไม่ต้องติดตั้งเพิ่ม (ใช้ built-in)

import logging
from config import GlobalConfig

class KPIOptimizer:
    def __init__(self):
        self.target_kpi = GlobalConfig.get('target_kpi_daily')
        self.min_kpi = GlobalConfig.get('min_daily_kpi')

    def optimize(self, current_kpi):
        if current_kpi >= self.target_kpi:
            kpi_factor = min(2.0, current_kpi / self.target_kpi)
        elif current_kpi < self.min_kpi:
            kpi_factor = max(0.5, current_kpi / self.min_kpi)
        else:
            kpi_factor = 1.0
        return kpi_factor
